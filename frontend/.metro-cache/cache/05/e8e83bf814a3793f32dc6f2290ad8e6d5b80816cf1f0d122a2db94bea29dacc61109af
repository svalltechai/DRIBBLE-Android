{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":41,"index":174}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.savePushToken = savePushToken;\n  exports.addNotificationReceivedListener = addNotificationReceivedListener;\n  exports.addNotificationResponseReceivedListener = addNotificationResponseReceivedListener;\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _api = require(_dependencyMap[3], \"./api\");\n  // Configure notification handling\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true,\n      shouldShowBanner: true,\n      shouldShowList: true\n    })\n  });\n\n  // Firebase project config\n  const FIREBASE_SENDER_ID = '499832719572';\n  async function registerForPushNotificationsAsync() {\n    let token = null;\n\n    // Check if physical device\n    if (!Device.isDevice) {\n      console.log('Push notifications require a physical device');\n      return null;\n    }\n\n    // Check existing permissions\n    const {\n      status: existingStatus\n    } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n\n    // Request permissions if not granted\n    if (existingStatus !== 'granted') {\n      const {\n        status\n      } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      console.log('Push notification permission not granted');\n      return null;\n    }\n    try {\n      // Get Expo push token (works with FCM on Android)\n      const pushTokenData = await Notifications.getExpoPushTokenAsync({\n        projectId: 'dribble-admin-abe91' // Firebase project ID\n      });\n      token = pushTokenData.data;\n      console.log('Push token:', token);\n    } catch (error) {\n      console.error('Error getting push token:', error);\n    }\n\n    // Android specific channel setup\n    if (Platform.default.OS === 'android') {\n      await Notifications.setNotificationChannelAsync('orders', {\n        name: 'Order Notifications',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#3B82F6',\n        sound: 'default'\n      });\n      await Notifications.setNotificationChannelAsync('payments', {\n        name: 'Payment Notifications',\n        importance: Notifications.AndroidImportance.HIGH,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#10B981',\n        sound: 'default'\n      });\n    }\n    return token;\n  }\n  async function savePushToken(token) {\n    try {\n      const deviceInfo = {\n        brand: Device.brand,\n        model: Device.modelName,\n        os: Platform.default.OS,\n        osVersion: Device.osVersion\n      };\n      await _api.notificationsAPI.registerPushToken(token, deviceInfo);\n      console.log('Push token registered with backend');\n    } catch (error) {\n      console.error('Error saving push token:', error);\n    }\n  }\n  function addNotificationReceivedListener(callback) {\n    return Notifications.addNotificationReceivedListener(callback);\n  }\n  function addNotificationResponseReceivedListener(callback) {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  }\n});","lineCount":127,"map":[[27,2,20,0,"exports"],[27,9,20,0],[27,10,20,0,"registerForPushNotificationsAsync"],[27,43,20,0],[27,46,20,0,"registerForPushNotificationsAsync"],[27,79,20,0],[28,2,77,0,"exports"],[28,9,77,0],[28,10,77,0,"savePushToken"],[28,23,77,0],[28,26,77,0,"savePushToken"],[28,39,77,0],[29,2,92,0,"exports"],[29,9,92,0],[29,10,92,0,"addNotificationReceivedListener"],[29,41,92,0],[29,44,92,0,"addNotificationReceivedListener"],[29,75,92,0],[30,2,98,0,"exports"],[30,9,98,0],[30,10,98,0,"addNotificationResponseReceivedListener"],[30,49,98,0],[30,52,98,0,"addNotificationResponseReceivedListener"],[30,91,98,0],[31,2,1,0],[31,6,1,0,"_expoNotifications"],[31,24,1,0],[31,27,1,0,"require"],[31,34,1,0],[31,35,1,0,"_dependencyMap"],[31,49,1,0],[32,2,1,0],[32,6,1,0,"Notifications"],[32,19,1,0],[32,22,1,0,"_interopNamespace"],[32,39,1,0],[32,40,1,0,"_expoNotifications"],[32,58,1,0],[33,2,2,0],[33,6,2,0,"_expoDevice"],[33,17,2,0],[33,20,2,0,"require"],[33,27,2,0],[33,28,2,0,"_dependencyMap"],[33,42,2,0],[34,2,2,0],[34,6,2,0,"Device"],[34,12,2,0],[34,15,2,0,"_interopNamespace"],[34,32,2,0],[34,33,2,0,"_expoDevice"],[34,44,2,0],[35,2,2,38],[35,6,2,38,"_reactNativeWebDistExportsPlatform"],[35,40,2,38],[35,43,2,38,"require"],[35,50,2,38],[35,51,2,38,"_dependencyMap"],[35,65,2,38],[36,2,2,38],[36,6,2,38,"Platform"],[36,14,2,38],[36,17,2,38,"_interopDefault"],[36,32,2,38],[36,33,2,38,"_reactNativeWebDistExportsPlatform"],[36,67,2,38],[37,2,4,0],[37,6,4,0,"_api"],[37,10,4,0],[37,13,4,0,"require"],[37,20,4,0],[37,21,4,0,"_dependencyMap"],[37,35,4,0],[38,2,6,0],[39,2,7,0,"Notifications"],[39,15,7,13],[39,16,7,14,"setNotificationHandler"],[39,38,7,36],[39,39,7,37],[40,4,8,2,"handleNotification"],[40,22,8,20],[40,24,8,22],[40,30,8,22,"handleNotification"],[40,31,8,22],[40,37,8,35],[41,6,9,4,"shouldShowAlert"],[41,21,9,19],[41,23,9,21],[41,27,9,25],[42,6,10,4,"shouldPlaySound"],[42,21,10,19],[42,23,10,21],[42,27,10,25],[43,6,11,4,"shouldSetBadge"],[43,20,11,18],[43,22,11,20],[43,26,11,24],[44,6,12,4,"shouldShowBanner"],[44,22,12,20],[44,24,12,22],[44,28,12,26],[45,6,13,4,"shouldShowList"],[45,20,13,18],[45,22,13,20],[46,4,14,2],[46,5,14,3],[47,2,15,0],[47,3,15,1],[47,4,15,2],[49,2,17,0],[50,2,18,0],[50,8,18,6,"FIREBASE_SENDER_ID"],[50,26,18,24],[50,29,18,27],[50,43,18,41],[51,2,20,7],[51,17,20,22,"registerForPushNotificationsAsync"],[51,50,20,55,"registerForPushNotificationsAsync"],[51,51,20,55],[51,53,20,82],[52,4,21,2],[52,8,21,6,"token"],[52,13,21,11],[52,16,21,14],[52,20,21,18],[54,4,23,2],[55,4,24,2],[55,8,24,6],[55,9,24,7,"Device"],[55,15,24,13],[55,16,24,14,"isDevice"],[55,24,24,22],[55,26,24,24],[56,6,25,4,"console"],[56,13,25,11],[56,14,25,12,"log"],[56,17,25,15],[56,18,25,16],[56,64,25,62],[56,65,25,63],[57,6,26,4],[57,13,26,11],[57,17,26,15],[58,4,27,2],[60,4,29,2],[61,4,30,2],[61,10,30,8],[62,6,30,10,"status"],[62,12,30,16],[62,14,30,18,"existingStatus"],[63,4,30,33],[63,5,30,34],[63,8,30,37],[63,14,30,43,"Notifications"],[63,27,30,56],[63,28,30,57,"getPermissionsAsync"],[63,47,30,76],[63,48,30,77],[63,49,30,78],[64,4,31,2],[64,8,31,6,"finalStatus"],[64,19,31,17],[64,22,31,20,"existingStatus"],[64,36,31,34],[66,4,33,2],[67,4,34,2],[67,8,34,6,"existingStatus"],[67,22,34,20],[67,27,34,25],[67,36,34,34],[67,38,34,36],[68,6,35,4],[68,12,35,10],[69,8,35,12,"status"],[70,6,35,19],[70,7,35,20],[70,10,35,23],[70,16,35,29,"Notifications"],[70,29,35,42],[70,30,35,43,"requestPermissionsAsync"],[70,53,35,66],[70,54,35,67],[70,55,35,68],[71,6,36,4,"finalStatus"],[71,17,36,15],[71,20,36,18,"status"],[71,26,36,24],[72,4,37,2],[73,4,39,2],[73,8,39,6,"finalStatus"],[73,19,39,17],[73,24,39,22],[73,33,39,31],[73,35,39,33],[74,6,40,4,"console"],[74,13,40,11],[74,14,40,12,"log"],[74,17,40,15],[74,18,40,16],[74,60,40,58],[74,61,40,59],[75,6,41,4],[75,13,41,11],[75,17,41,15],[76,4,42,2],[77,4,44,2],[77,8,44,6],[78,6,45,4],[79,6,46,4],[79,12,46,10,"pushTokenData"],[79,25,46,23],[79,28,46,26],[79,34,46,32,"Notifications"],[79,47,46,45],[79,48,46,46,"getExpoPushTokenAsync"],[79,69,46,67],[79,70,46,68],[80,8,47,6,"projectId"],[80,17,47,15],[80,19,47,17],[80,40,47,38],[80,41,47,40],[81,6,48,4],[81,7,48,5],[81,8,48,6],[82,6,49,4,"token"],[82,11,49,9],[82,14,49,12,"pushTokenData"],[82,27,49,25],[82,28,49,26,"data"],[82,32,49,30],[83,6,50,4,"console"],[83,13,50,11],[83,14,50,12,"log"],[83,17,50,15],[83,18,50,16],[83,31,50,29],[83,33,50,31,"token"],[83,38,50,36],[83,39,50,37],[84,4,51,2],[84,5,51,3],[84,6,51,4],[84,13,51,11,"error"],[84,18,51,16],[84,20,51,18],[85,6,52,4,"console"],[85,13,52,11],[85,14,52,12,"error"],[85,19,52,17],[85,20,52,18],[85,47,52,45],[85,49,52,47,"error"],[85,54,52,52],[85,55,52,53],[86,4,53,2],[88,4,55,2],[89,4,56,2],[89,8,56,6,"Platform"],[89,16,56,14],[89,17,56,14,"default"],[89,24,56,14],[89,25,56,15,"OS"],[89,27,56,17],[89,32,56,22],[89,41,56,31],[89,43,56,33],[90,6,57,4],[90,12,57,10,"Notifications"],[90,25,57,23],[90,26,57,24,"setNotificationChannelAsync"],[90,53,57,51],[90,54,57,52],[90,62,57,60],[90,64,57,62],[91,8,58,6,"name"],[91,12,58,10],[91,14,58,12],[91,35,58,33],[92,8,59,6,"importance"],[92,18,59,16],[92,20,59,18,"Notifications"],[92,33,59,31],[92,34,59,32,"AndroidImportance"],[92,51,59,49],[92,52,59,50,"MAX"],[92,55,59,53],[93,8,60,6,"vibrationPattern"],[93,24,60,22],[93,26,60,24],[93,27,60,25],[93,28,60,26],[93,30,60,28],[93,33,60,31],[93,35,60,33],[93,38,60,36],[93,40,60,38],[93,43,60,41],[93,44,60,42],[94,8,61,6,"lightColor"],[94,18,61,16],[94,20,61,18],[94,29,61,27],[95,8,62,6,"sound"],[95,13,62,11],[95,15,62,13],[96,6,63,4],[96,7,63,5],[96,8,63,6],[97,6,65,4],[97,12,65,10,"Notifications"],[97,25,65,23],[97,26,65,24,"setNotificationChannelAsync"],[97,53,65,51],[97,54,65,52],[97,64,65,62],[97,66,65,64],[98,8,66,6,"name"],[98,12,66,10],[98,14,66,12],[98,37,66,35],[99,8,67,6,"importance"],[99,18,67,16],[99,20,67,18,"Notifications"],[99,33,67,31],[99,34,67,32,"AndroidImportance"],[99,51,67,49],[99,52,67,50,"HIGH"],[99,56,67,54],[100,8,68,6,"vibrationPattern"],[100,24,68,22],[100,26,68,24],[100,27,68,25],[100,28,68,26],[100,30,68,28],[100,33,68,31],[100,35,68,33],[100,38,68,36],[100,40,68,38],[100,43,68,41],[100,44,68,42],[101,8,69,6,"lightColor"],[101,18,69,16],[101,20,69,18],[101,29,69,27],[102,8,70,6,"sound"],[102,13,70,11],[102,15,70,13],[103,6,71,4],[103,7,71,5],[103,8,71,6],[104,4,72,2],[105,4,74,2],[105,11,74,9,"token"],[105,16,74,14],[106,2,75,0],[107,2,77,7],[107,17,77,22,"savePushToken"],[107,30,77,35,"savePushToken"],[107,31,77,36,"token"],[107,36,77,49],[107,38,77,66],[108,4,78,2],[108,8,78,6],[109,6,79,4],[109,12,79,10,"deviceInfo"],[109,22,79,20],[109,25,79,23],[110,8,80,6,"brand"],[110,13,80,11],[110,15,80,13,"Device"],[110,21,80,19],[110,22,80,20,"brand"],[110,27,80,25],[111,8,81,6,"model"],[111,13,81,11],[111,15,81,13,"Device"],[111,21,81,19],[111,22,81,20,"modelName"],[111,31,81,29],[112,8,82,6,"os"],[112,10,82,8],[112,12,82,10,"Platform"],[112,20,82,18],[112,21,82,18,"default"],[112,28,82,18],[112,29,82,19,"OS"],[112,31,82,21],[113,8,83,6,"osVersion"],[113,17,83,15],[113,19,83,17,"Device"],[113,25,83,23],[113,26,83,24,"osVersion"],[114,6,84,4],[114,7,84,5],[115,6,85,4],[115,12,85,10,"notificationsAPI"],[115,16,85,26],[115,17,85,26,"notificationsAPI"],[115,33,85,26],[115,34,85,27,"registerPushToken"],[115,51,85,44],[115,52,85,45,"token"],[115,57,85,50],[115,59,85,52,"deviceInfo"],[115,69,85,62],[115,70,85,63],[116,6,86,4,"console"],[116,13,86,11],[116,14,86,12,"log"],[116,17,86,15],[116,18,86,16],[116,54,86,52],[116,55,86,53],[117,4,87,2],[117,5,87,3],[117,6,87,4],[117,13,87,11,"error"],[117,18,87,16],[117,20,87,18],[118,6,88,4,"console"],[118,13,88,11],[118,14,88,12,"error"],[118,19,88,17],[118,20,88,18],[118,46,88,44],[118,48,88,46,"error"],[118,53,88,51],[118,54,88,52],[119,4,89,2],[120,2,90,0],[121,2,92,7],[121,11,92,16,"addNotificationReceivedListener"],[121,42,92,47,"addNotificationReceivedListener"],[121,43,93,2,"callback"],[121,51,93,62],[121,53,94,2],[122,4,95,2],[122,11,95,9,"Notifications"],[122,24,95,22],[122,25,95,23,"addNotificationReceivedListener"],[122,56,95,54],[122,57,95,55,"callback"],[122,65,95,63],[122,66,95,64],[123,2,96,0],[124,2,98,7],[124,11,98,16,"addNotificationResponseReceivedListener"],[124,50,98,55,"addNotificationResponseReceivedListener"],[124,51,99,2,"callback"],[124,59,99,66],[124,61,100,2],[125,4,101,2],[125,11,101,9,"Notifications"],[125,24,101,22],[125,25,101,23,"addNotificationResponseReceivedListener"],[125,64,101,62],[125,65,101,63,"callback"],[125,73,101,71],[125,74,101,72],[126,2,102,0],[127,0,102,1],[127,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","savePushToken","addNotificationReceivedListener","addNotificationResponseReceivedListener"],"mappings":"AAA;sBCO;IDM;OEM;CFuD;OGE;CHa;OIE;CJI;OKE;CLI"},"hasCjsExports":false},"type":"js/module"}]}