{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"setAuthToken\", {\n    enumerable: true,\n    get: function () {\n      return setAuthToken;\n    }\n  });\n  Object.defineProperty(exports, \"getAuthToken\", {\n    enumerable: true,\n    get: function () {\n      return getAuthToken;\n    }\n  });\n  Object.defineProperty(exports, \"removeAuthToken\", {\n    enumerable: true,\n    get: function () {\n      return removeAuthToken;\n    }\n  });\n  Object.defineProperty(exports, \"authAPI\", {\n    enumerable: true,\n    get: function () {\n      return authAPI;\n    }\n  });\n  Object.defineProperty(exports, \"ordersAPI\", {\n    enumerable: true,\n    get: function () {\n      return ordersAPI;\n    }\n  });\n  Object.defineProperty(exports, \"notificationsAPI\", {\n    enumerable: true,\n    get: function () {\n      return notificationsAPI;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  // API Base URL - uses the same backend as web app\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://appweb-sync.preview.emergentagent.com';\n\n  // Create axios instance\n  const api = axios.default.create({\n    baseURL: `${API_BASE_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Token management\n  const setAuthToken = async token => {\n    await SecureStore.setItemAsync('auth_token', token);\n  };\n  const getAuthToken = async () => {\n    return await SecureStore.getItemAsync('auth_token');\n  };\n  const removeAuthToken = async () => {\n    await SecureStore.deleteItemAsync('auth_token');\n  };\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getAuthToken();\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid - clear it\n      await removeAuthToken();\n    }\n    return Promise.reject(error);\n  });\n\n  // Auth API\n  const authAPI = {\n    login: async (email, password) => {\n      const response = await api.post('/auth/login', {\n        email,\n        password\n      });\n      return response.data;\n    },\n    getCurrentUser: async () => {\n      const response = await api.get('/auth/me');\n      return response.data;\n    }\n  };\n\n  // Orders API\n  const ordersAPI = {\n    getOrders: async params => {\n      const response = await api.get('/admin/orders', {\n        params\n      });\n      return response.data;\n    },\n    getOrder: async orderId => {\n      const response = await api.get(`/orders/${orderId}`);\n      return response.data;\n    },\n    updateOrderStatus: async (orderId, status) => {\n      const response = await api.patch(`/admin/orders/${orderId}/status`, {\n        status\n      });\n      return response.data;\n    },\n    getOrderStats: async () => {\n      const response = await api.get('/admin/orders/stats');\n      return response.data;\n    }\n  };\n\n  // Push Notifications API\n  const notificationsAPI = {\n    registerPushToken: async (token, deviceInfo) => {\n      const response = await api.post('/admin/push-tokens', {\n        push_token: token,\n        device_info: deviceInfo\n      });\n      return response.data;\n    },\n    unregisterPushToken: async token => {\n      const response = await api.delete('/admin/push-tokens', {\n        data: {\n          push_token: token\n        }\n      });\n      return response.data;\n    }\n  };\n  var _default = api;\n});","lineCount":175,"map":[[27,2,114,0,"Object"],[27,8,114,0],[27,9,114,0,"defineProperty"],[27,23,114,0],[27,24,114,0,"exports"],[27,31,114,0],[28,4,114,0,"enumerable"],[28,14,114,0],[29,4,114,0,"get"],[29,7,114,0],[29,18,114,0,"get"],[29,19,114,0],[30,6,114,0],[30,13,114,0,"_default"],[30,21,114,0],[31,4,114,0],[32,2,114,0],[33,2,17,0,"Object"],[33,8,17,0],[33,9,17,0,"defineProperty"],[33,23,17,0],[33,24,17,0,"exports"],[33,31,17,0],[34,4,17,0,"enumerable"],[34,14,17,0],[35,4,17,0,"get"],[35,7,17,0],[35,18,17,0,"get"],[35,19,17,0],[36,6,17,0],[36,13,17,0,"setAuthToken"],[36,25,17,0],[37,4,17,0],[38,2,17,0],[39,2,21,0,"Object"],[39,8,21,0],[39,9,21,0,"defineProperty"],[39,23,21,0],[39,24,21,0,"exports"],[39,31,21,0],[40,4,21,0,"enumerable"],[40,14,21,0],[41,4,21,0,"get"],[41,7,21,0],[41,18,21,0,"get"],[41,19,21,0],[42,6,21,0],[42,13,21,0,"getAuthToken"],[42,25,21,0],[43,4,21,0],[44,2,21,0],[45,2,25,0,"Object"],[45,8,25,0],[45,9,25,0,"defineProperty"],[45,23,25,0],[45,24,25,0,"exports"],[45,31,25,0],[46,4,25,0,"enumerable"],[46,14,25,0],[47,4,25,0,"get"],[47,7,25,0],[47,18,25,0,"get"],[47,19,25,0],[48,6,25,0],[48,13,25,0,"removeAuthToken"],[48,28,25,0],[49,4,25,0],[50,2,25,0],[51,2,56,0,"Object"],[51,8,56,0],[51,9,56,0,"defineProperty"],[51,23,56,0],[51,24,56,0,"exports"],[51,31,56,0],[52,4,56,0,"enumerable"],[52,14,56,0],[53,4,56,0,"get"],[53,7,56,0],[53,18,56,0,"get"],[53,19,56,0],[54,6,56,0],[54,13,56,0,"authAPI"],[54,20,56,0],[55,4,56,0],[56,2,56,0],[57,2,69,0,"Object"],[57,8,69,0],[57,9,69,0,"defineProperty"],[57,23,69,0],[57,24,69,0,"exports"],[57,31,69,0],[58,4,69,0,"enumerable"],[58,14,69,0],[59,4,69,0,"get"],[59,7,69,0],[59,18,69,0,"get"],[59,19,69,0],[60,6,69,0],[60,13,69,0,"ordersAPI"],[60,22,69,0],[61,4,69,0],[62,2,69,0],[63,2,97,0,"Object"],[63,8,97,0],[63,9,97,0,"defineProperty"],[63,23,97,0],[63,24,97,0,"exports"],[63,31,97,0],[64,4,97,0,"enumerable"],[64,14,97,0],[65,4,97,0,"get"],[65,7,97,0],[65,18,97,0,"get"],[65,19,97,0],[66,6,97,0],[66,13,97,0,"notificationsAPI"],[66,29,97,0],[67,4,97,0],[68,2,97,0],[69,2,112,2],[69,6,112,2,"_expoVirtualEnv"],[69,21,112,2],[69,24,112,2,"require"],[69,31,112,2],[69,32,112,2,"_dependencyMap"],[69,46,112,2],[70,2,1,0],[70,6,1,0,"_axios"],[70,12,1,0],[70,15,1,0,"require"],[70,22,1,0],[70,23,1,0,"_dependencyMap"],[70,37,1,0],[71,2,1,0],[71,6,1,0,"axios"],[71,11,1,0],[71,14,1,0,"_interopDefault"],[71,29,1,0],[71,30,1,0,"_axios"],[71,36,1,0],[72,2,2,0],[72,6,2,0,"_expoSecureStore"],[72,22,2,0],[72,25,2,0,"require"],[72,32,2,0],[72,33,2,0,"_dependencyMap"],[72,47,2,0],[73,2,2,0],[73,6,2,0,"SecureStore"],[73,17,2,0],[73,20,2,0,"_interopNamespace"],[73,37,2,0],[73,38,2,0,"_expoSecureStore"],[73,54,2,0],[74,2,4,0],[75,2,5,0],[75,8,5,6,"API_BASE_URL"],[75,20,5,18],[75,23,5,21,"_expoVirtualEnv"],[75,38,5,21],[75,39,5,21,"env"],[75,42,5,21],[75,43,5,21,"EXPO_PUBLIC_BACKEND_URL"],[75,66,5,21],[75,70,5,60],[75,117,5,107],[77,2,7,0],[78,2,8,0],[78,8,8,6,"api"],[78,11,8,9],[78,14,8,12,"axios"],[78,19,8,17],[78,20,8,17,"default"],[78,27,8,17],[78,28,8,18,"create"],[78,34,8,24],[78,35,8,25],[79,4,9,2,"baseURL"],[79,11,9,9],[79,13,9,11],[79,16,9,14,"API_BASE_URL"],[79,28,9,26],[79,34,9,32],[80,4,10,2,"timeout"],[80,11,10,9],[80,13,10,11],[80,18,10,16],[81,4,11,2,"headers"],[81,11,11,9],[81,13,11,11],[82,6,12,4],[82,20,12,18],[82,22,12,20],[83,4,13,2],[84,2,14,0],[84,3,14,1],[84,4,14,2],[86,2,16,0],[87,2,17,7],[87,8,17,13,"setAuthToken"],[87,20,17,25],[87,23,17,28],[87,29,17,35,"token"],[87,34,17,48],[87,38,17,53],[88,4,18,2],[88,10,18,8,"SecureStore"],[88,21,18,19],[88,22,18,20,"setItemAsync"],[88,34,18,32],[88,35,18,33],[88,47,18,45],[88,49,18,47,"token"],[88,54,18,52],[88,55,18,53],[89,2,19,0],[89,3,19,1],[90,2,21,7],[90,8,21,13,"getAuthToken"],[90,20,21,25],[90,23,21,28],[90,29,21,28,"getAuthToken"],[90,30,21,28],[90,35,21,64],[91,4,22,2],[91,11,22,9],[91,17,22,15,"SecureStore"],[91,28,22,26],[91,29,22,27,"getItemAsync"],[91,41,22,39],[91,42,22,40],[91,54,22,52],[91,55,22,53],[92,2,23,0],[92,3,23,1],[93,2,25,7],[93,8,25,13,"removeAuthToken"],[93,23,25,28],[93,26,25,31],[93,32,25,31,"removeAuthToken"],[93,33,25,31],[93,38,25,43],[94,4,26,2],[94,10,26,8,"SecureStore"],[94,21,26,19],[94,22,26,20,"deleteItemAsync"],[94,37,26,35],[94,38,26,36],[94,50,26,48],[94,51,26,49],[95,2,27,0],[95,3,27,1],[97,2,29,0],[98,2,30,0,"api"],[98,5,30,3],[98,6,30,4,"interceptors"],[98,18,30,16],[98,19,30,17,"request"],[98,26,30,24],[98,27,30,25,"use"],[98,30,30,28],[98,31,31,2],[98,37,31,9,"config"],[98,43,31,15],[98,47,31,20],[99,4,32,4],[99,10,32,10,"token"],[99,15,32,15],[99,18,32,18],[99,24,32,24,"getAuthToken"],[99,36,32,36],[99,37,32,37],[99,38,32,38],[100,4,33,4],[100,8,33,8,"token"],[100,13,33,13],[100,15,33,15],[101,6,34,6,"config"],[101,12,34,12],[101,13,34,13,"headers"],[101,20,34,20],[101,21,34,21,"Authorization"],[101,34,34,34],[101,37,34,37],[101,47,34,47,"token"],[101,52,34,52],[101,54,34,54],[102,4,35,4],[103,4,36,4],[103,11,36,11,"config"],[103,17,36,17],[104,2,37,2],[104,3,37,3],[104,5,38,3,"error"],[104,10,38,8],[104,14,38,13],[105,4,39,4],[105,11,39,11,"Promise"],[105,18,39,18],[105,19,39,19,"reject"],[105,25,39,25],[105,26,39,26,"error"],[105,31,39,31],[105,32,39,32],[106,2,40,2],[106,3,41,0],[106,4,41,1],[108,2,43,0],[109,2,44,0,"api"],[109,5,44,3],[109,6,44,4,"interceptors"],[109,18,44,16],[109,19,44,17,"response"],[109,27,44,25],[109,28,44,26,"use"],[109,31,44,29],[109,32,45,3,"response"],[109,40,45,11],[109,44,45,16,"response"],[109,52,45,24],[109,54,46,2],[109,60,46,9,"error"],[109,65,46,14],[109,69,46,19],[110,4,47,4],[110,8,47,8,"error"],[110,13,47,13],[110,14,47,14,"response"],[110,22,47,22],[110,24,47,24,"status"],[110,30,47,30],[110,35,47,35],[110,38,47,38],[110,40,47,40],[111,6,48,6],[112,6,49,6],[112,12,49,12,"removeAuthToken"],[112,27,49,27],[112,28,49,28],[112,29,49,29],[113,4,50,4],[114,4,51,4],[114,11,51,11,"Promise"],[114,18,51,18],[114,19,51,19,"reject"],[114,25,51,25],[114,26,51,26,"error"],[114,31,51,31],[114,32,51,32],[115,2,52,2],[115,3,53,0],[115,4,53,1],[117,2,55,0],[118,2,56,7],[118,8,56,13,"authAPI"],[118,15,56,20],[118,18,56,23],[119,4,57,2,"login"],[119,9,57,7],[119,11,57,9],[119,17,57,9,"login"],[119,18,57,16,"email"],[119,23,57,29],[119,25,57,31,"password"],[119,33,57,47],[119,38,57,52],[120,6,58,4],[120,12,58,10,"response"],[120,20,58,18],[120,23,58,21],[120,29,58,27,"api"],[120,32,58,30],[120,33,58,31,"post"],[120,37,58,35],[120,38,58,36],[120,51,58,49],[120,53,58,51],[121,8,58,53,"email"],[121,13,58,58],[122,8,58,60,"password"],[123,6,58,69],[123,7,58,70],[123,8,58,71],[124,6,59,4],[124,13,59,11,"response"],[124,21,59,19],[124,22,59,20,"data"],[124,26,59,24],[125,4,60,2],[125,5,60,3],[126,4,62,2,"getCurrentUser"],[126,18,62,16],[126,20,62,18],[126,26,62,18,"getCurrentUser"],[126,27,62,18],[126,32,62,30],[127,6,63,4],[127,12,63,10,"response"],[127,20,63,18],[127,23,63,21],[127,29,63,27,"api"],[127,32,63,30],[127,33,63,31,"get"],[127,36,63,34],[127,37,63,35],[127,47,63,45],[127,48,63,46],[128,6,64,4],[128,13,64,11,"response"],[128,21,64,19],[128,22,64,20,"data"],[128,26,64,24],[129,4,65,2],[130,2,66,0],[130,3,66,1],[132,2,68,0],[133,2,69,7],[133,8,69,13,"ordersAPI"],[133,17,69,22],[133,20,69,25],[134,4,70,2,"getOrders"],[134,13,70,11],[134,15,70,13],[134,21,70,20,"params"],[134,27,75,3],[134,31,75,8],[135,6,76,4],[135,12,76,10,"response"],[135,20,76,18],[135,23,76,21],[135,29,76,27,"api"],[135,32,76,30],[135,33,76,31,"get"],[135,36,76,34],[135,37,76,35],[135,52,76,50],[135,54,76,52],[136,8,76,54,"params"],[137,6,76,61],[137,7,76,62],[137,8,76,63],[138,6,77,4],[138,13,77,11,"response"],[138,21,77,19],[138,22,77,20,"data"],[138,26,77,24],[139,4,78,2],[139,5,78,3],[140,4,80,2,"getOrder"],[140,12,80,10],[140,14,80,12],[140,20,80,19,"orderId"],[140,27,80,34],[140,31,80,39],[141,6,81,4],[141,12,81,10,"response"],[141,20,81,18],[141,23,81,21],[141,29,81,27,"api"],[141,32,81,30],[141,33,81,31,"get"],[141,36,81,34],[141,37,81,35],[141,48,81,46,"orderId"],[141,55,81,53],[141,57,81,55],[141,58,81,56],[142,6,82,4],[142,13,82,11,"response"],[142,21,82,19],[142,22,82,20,"data"],[142,26,82,24],[143,4,83,2],[143,5,83,3],[144,4,85,2,"updateOrderStatus"],[144,21,85,19],[144,23,85,21],[144,29,85,21,"updateOrderStatus"],[144,30,85,28,"orderId"],[144,37,85,43],[144,39,85,45,"status"],[144,45,85,59],[144,50,85,64],[145,6,86,4],[145,12,86,10,"response"],[145,20,86,18],[145,23,86,21],[145,29,86,27,"api"],[145,32,86,30],[145,33,86,31,"patch"],[145,38,86,36],[145,39,86,37],[145,56,86,54,"orderId"],[145,63,86,61],[145,72,86,70],[145,74,86,72],[146,8,86,74,"status"],[147,6,86,81],[147,7,86,82],[147,8,86,83],[148,6,87,4],[148,13,87,11,"response"],[148,21,87,19],[148,22,87,20,"data"],[148,26,87,24],[149,4,88,2],[149,5,88,3],[150,4,90,2,"getOrderStats"],[150,17,90,15],[150,19,90,17],[150,25,90,17,"getOrderStats"],[150,26,90,17],[150,31,90,29],[151,6,91,4],[151,12,91,10,"response"],[151,20,91,18],[151,23,91,21],[151,29,91,27,"api"],[151,32,91,30],[151,33,91,31,"get"],[151,36,91,34],[151,37,91,35],[151,58,91,56],[151,59,91,57],[152,6,92,4],[152,13,92,11,"response"],[152,21,92,19],[152,22,92,20,"data"],[152,26,92,24],[153,4,93,2],[154,2,94,0],[154,3,94,1],[156,2,96,0],[157,2,97,7],[157,8,97,13,"notificationsAPI"],[157,24,97,29],[157,27,97,32],[158,4,98,2,"registerPushToken"],[158,21,98,19],[158,23,98,21],[158,29,98,21,"registerPushToken"],[158,30,98,28,"token"],[158,35,98,41],[158,37,98,43,"deviceInfo"],[158,47,98,58],[158,52,98,63],[159,6,99,4],[159,12,99,10,"response"],[159,20,99,18],[159,23,99,21],[159,29,99,27,"api"],[159,32,99,30],[159,33,99,31,"post"],[159,37,99,35],[159,38,99,36],[159,58,99,56],[159,60,99,58],[160,8,100,6,"push_token"],[160,18,100,16],[160,20,100,18,"token"],[160,25,100,23],[161,8,101,6,"device_info"],[161,19,101,17],[161,21,101,19,"deviceInfo"],[162,6,102,4],[162,7,102,5],[162,8,102,6],[163,6,103,4],[163,13,103,11,"response"],[163,21,103,19],[163,22,103,20,"data"],[163,26,103,24],[164,4,104,2],[164,5,104,3],[165,4,106,2,"unregisterPushToken"],[165,23,106,21],[165,25,106,23],[165,31,106,30,"token"],[165,36,106,43],[165,40,106,48],[166,6,107,4],[166,12,107,10,"response"],[166,20,107,18],[166,23,107,21],[166,29,107,27,"api"],[166,32,107,30],[166,33,107,31,"delete"],[166,39,107,37],[166,40,107,38],[166,60,107,58],[166,62,107,60],[167,8,108,6,"data"],[167,12,108,10],[167,14,108,12],[168,10,108,14,"push_token"],[168,20,108,24],[168,22,108,26,"token"],[169,8,108,32],[170,6,109,4],[170,7,109,5],[170,8,109,6],[171,6,110,4],[171,13,110,11,"response"],[171,21,110,19],[171,22,110,20,"data"],[171,26,110,24],[172,4,111,2],[173,2,112,0],[173,3,112,1],[174,2,114,0],[174,6,114,0,"_default"],[174,14,114,0],[174,17,114,15,"api"],[174,20,114,18],[175,0,114,19],[175,3]],"functionMap":{"names":["<global>","setAuthToken","getAuthToken","removeAuthToken","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","authAPI.login","authAPI.getCurrentUser","ordersAPI.getOrders","ordersAPI.getOrder","ordersAPI.updateOrderStatus","ordersAPI.getOrderStats","notificationsAPI.registerPushToken","notificationsAPI.unregisterPushToken"],"mappings":"AAA;4BCgB;CDE;4BEE;CFE;+BGE;CHE;EII;GJM;EKC;GLE;EMK,sBN;EOC;GPM;SQK;GRG;kBSE;GTG;aUK;GVQ;YWE;GXG;qBYE;GZG;iBaE;GbG;qBcK;GdM;uBeE;GfK"},"hasCjsExports":false},"type":"js/module"}]}